<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
    <meta name="description" content="Hos gida barbershop stræber vi efter at alle kunder går ud med med et smil på læben og en klipning de er tilfredse med, til en formidabel pris">
    <meta name="keywords" content="Barbering, Frisør, Fade, Barber, Nørrebro">
    <title>GIDA - Homepage</title>
    <link rel="stylesheet" href="https://use.typekit.net/wzk3cpo.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="style.css">
</head>


<body>
    <main class="main_content">
        <nav id="burger-menu">
           <span> </span>
        <span class="span_text">
            ME<br>NU
        </span>
            <div id="menu">
                <ul>
                    <li><a href="home.html">Home</a></li>
                    <li><a href="services.html">Service</a></li>
                    <li><a href="#" class="active">Produkter</a></li>
                    <li><a href="omos.html">Om os</a></li>
                    <li><a href="styles.html">Styles</a></li>
                    <li><a href="booking.html">Booking</a></li>
                </ul>
            </div>
        </nav>

        <nav class="main_nav">
            <div class="logo"><a href="home.html">
                    <img src="imgs/SVG/johan_logo2.svg" alt="logo"></a> </div>
            <ul>
                <li><a href="services.html">Service</a></li>
                <li><a href="#" class="active">Produkter</a></li>
                <li><a href="omos.html">Om os</a></li>
                <li><a href="styles.html">Styles</a></li>
                <li><a href="booking.html">Booking</a></li>


            </ul>
        </nav>
        <div id="container_service" class="position">
            <a class="btn" href="booking.html"><span>BOOKING</span>
            </a>
        </div>
        <div class="splash_produkt" data-aos="fade-up">
            <div class="img_produkt">
                <h1>Produkter</h1>
            </div>
        </div>
        <div class="text_center">
            <div id="knapper">
                <button class="filter valgt" data-kategori="alle">PRODUKTER</button>
                <button class="filter" data-kategori="Hairstyling">HAIRSTYLING</button>
                <button class="filter" data-kategori="hudpleje">HUDPLEJE</button>
                <button class="filter" data-kategori="barber grej">BARBERGREJ</button>
            </div>
        </div>

        <section class="produkt_boxes">
            <template>
                <article class="box">
                    <img class="billede" src="">
                    <div class="info">
                        <h2 class="title"></h2>
                        <h3 class="pris"></h3>
                    </div>
                </article>
            </template>
        </section>
    </main>
    <footer>
        <div class="footer_grid">
            <div class="maps_footer">
                <iframe class="google_maps" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2248.6056549826467!2d12.543213115816556!3d55.695843480538166!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x465253ad54ecc953%3A0x8218457555b8dffc!2sSorgenfrigade%206%2C%202200%20K%C3%B8benhavn!5e0!3m2!1sda!2sdk!4v1575851175006!5m2!1sda!2sdk" style="border:0;" allowfullscreen=""></iframe></div>
            <div>
                <h2>Åbningstider</h2>
                <p>man-lør. 10.00-19.00</p>
            </div>
            <div>
                <h2>Kontakt</h2>
                <p>+4542333751
                    <br>Sorgenfrigade 6
                    <br> 2200 København
                </p>
            </div>
            <div class="omgida_footer">
                <h2>Om Gida</h2>
                <a href="https://www.facebook.com/gidabarbershop/" target="_blank"><img src="imgs/iconfinder_online_social_media_facebook_734386.jpg" alt="fbicon"></a>
                <a href="https://www.instagram.com/gida_barbershop/" target="_blank"><img src="imgs/iconfinder_instagram_online_social_media_photo_734395.jpg" alt="igicon"></a>
            </div>
        </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script type="text/javascript">
        let produkter = [];
        let filter = "alle";
        const produkterUrl = "https://mathiaswind.dk/kea/Gida/wordpress/wp-json/wp/v2/produkter?per_page=50";
        const skabelon = document.querySelector("template");
        const liste = document.querySelector(".produkt_boxes");



        window.addEventListener("load", sidenVises);

        function sidenVises() {
            console.log("sidenVises");

            start();
        }


        function start() {
            hentProdukter();
            knapperVirker();
        }
        //  Henter indholdet fra json
        async function hentProdukter() {
            const response = await fetch(produkterUrl);
            produkter = await response.json();
            console.log(produkter);
            visProdukter();
        }

        function visProdukter() {

            liste.innerHTML = "";

            produkter.forEach(produkt => {

                if (filter == "alle" || filter == produkt.produkt_type) {
                    console.log(produkter);
                    const klon = skabelon.cloneNode(true).content;

                    klon.querySelector(".billede").src = produkt.billed[0].guid;
                    klon.querySelector(".billede").alt = produkt.title.rendered + " billede";
                    klon.querySelector(".title").textContent = produkt.title.rendered;
                    klon.querySelector(".pris").textContent = `DKK ${produkt.
                    pris}`;

                    liste.appendChild(klon);

                    liste.lastElementChild.addEventListener("click", () => {
                        location.href = `singleView.html?id=${produkt.id}`;
                    });
                }
            });
        }

        function knapperVirker() {
            // får alle knapper til at virke
            document.querySelectorAll(".filter").forEach(elm => {
                elm.addEventListener("click", filtrering);
            })
        }

        function filtrering() {
            filter = this.dataset.kategori;

            // styrer overskriften
            document.querySelector("h2").textContent = this.textContent;

            // knapperne skifter farve
            document.querySelectorAll(".filter").forEach(elm => {
                elm.classList.remove("valgt");
            })
            this.classList.add("valgt");

            visProdukter();
        }








        //DESKTOP NAV ANIMATION ON SCROLL
        $(window).on('scroll', function() {
            if ($(window).scrollTop()) {
                $('nav').addClass('black');
            } else {
                $('nav').removeClass('black')
            }


        })

        //burgermenu
        var burgerMenu = document.getElementById('burger-menu');
        var overlay = document.getElementById('menu');
        burgerMenu.addEventListener('click', function() {
            this.classList.toggle("close");
            overlay.classList.toggle("overlay");
        });

        AOS.init();
    </script>
</body></html>
